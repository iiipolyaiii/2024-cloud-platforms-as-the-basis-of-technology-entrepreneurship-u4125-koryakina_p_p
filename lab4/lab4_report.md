University: [ITMO University](https://itmo.ru/ru/)\
Faculty: [FTMI](https://ftmi.itmo.ru)\
Course: [Cloud platforms as the basis of technology entrepreneurship](https://itmo-ict-faculty.github.io/cloud-platforms-as-the-basis-of-technology-entrepreneurship/education/labs2023-2024/lab1/lab1/)\
Year: 2024\
Group: U4125\
Author: Koryakina Polina\
Lab: Lab4\
Date of create: 30.04.2024\
Date of finished:

### Описание приложения:
Телеграм-бот, который раз в несколько часов присылает пользователю приятную картинку или текст из базы данных или сгенерированный искусственным интеллектом.

### Инфраструктура (схема):
![image](https://github.com/guzel148/2024-cloud-platforms-as-the-basis-of-technology-entrepreneurship-u4125-gaptelganieva_g_r/assets/156536395/71e3553a-669d-46d1-aafb-1f5debdca4fa)

### План (ресурсы)
1. Начальное состояние:
   - Веб-сервер (Google Cloud Functions) для обработки запросов от пользователей и генерации контента
   - Хранение данных в NoSQL базе данных (Google Cloud Firestore) для хранения сгенерированных текстов и ссылок на изображения
   - Облачное хранилище (Google Cloud Storage) для хранения сгенерированных изображений
   - Мониторинг и логирование (Google Cloud Monitoring и Google Cloud Logging)

2. Тестирование партнерами:
   - Увеличение вычислительных ресурсов на веб-сервере для обработки дополнительной нагрузки
   - Дополнительные инструменты мониторинга производительности (Google Cloud Profiler)

3. Продовое решение:
   - Развитие масштабируемости с помощью Google Kubernetes Engine (GKE) для управления контейнерами и автоматического масштабирования
   - Использование Cloud CDN для ускорения доставки контента пользователю
   - Резервное копирование данных с использованием Google Cloud Storage Nearline

### Экономическая модель:

1. Начальное состояние:
   - Использование серверных функций (Cloud Functions) позволит оптимизировать расходы за счет оплаты только за фактически использованные ресурсы
   - Бесплатный уровень использования Google Cloud Firestore для начального этапа
   - Оптимизация хранения изображений в Google Cloud Storage по классам доступа для снижения затрат
> Google Cloud Functions: первые 2 млн. вызовов бесплатно\
Google Cloud Firestore: бесплатная квота: Сохраненные данные	1 GiB, передача исходящих данных	10 гигабайт в месяц\
Google Cloud Storage: Standard Persistent Disk — 0,040$ за 1 GB/месяц, возьмем 10GB - 0,4$/месяц\
Google Cloud Monitoring и Google Cloud Logging: Стоимость интеграции с облачным протоколированием (включая журналы облачного аудита) и облачным мониторингом зависит от количества собираемых журналов и показателей.
Например, если запросов менее 2млн. в месяц, то использование сервисов может быть и бесплатным
#### Итого: 0,4$-1$ в месяц

2. Тестирование партнерами (допустим, 10 млн. запросов)
   - Расходы на вычислительные ресурсы будут увеличены, поэтому стоит рассмотреть возможность автоматического масштабирования
> Google Cloud Functions: первые 2 млн. вызовов бесплатно + 0,40$ за каждый доп. миллион запросов, допустим, 10 млн. запросов - 3,2$\
Google Cloud Firestore: взимается плата за каждую выполняемую вами запись и удаление документа свыше бесплатной квоты\
![image](https://github.com/guzel148/2024-cloud-platforms-as-the-basis-of-technology-entrepreneurship-u4125-gaptelganieva_g_r/assets/156536395/ef7add60-8942-4cee-9632-98a1b53c3da7)\
заложу 3$/месяц\
Google Cloud Storage: Standard Persistent Disk — 0,040$ за 1 GB/месяц, возьмем 30GB - 1,2$/месяц\
Google Cloud Monitoring и Google Cloud Logging: заложу 5$\
Google Cloud Profiler: не подразумевает взимание платы, но устанавливает индивидуальную квоту на пользование
 #### Итого: 12,4$ - 15$ в месяц

3. Продовое решение (допустим, 30 млн. запросов):
   - Использование GKE позволит оптимизировать расходы на вычислительные ресурсы за счет автоматического масштабирования
   - Cloud CDN поможет улучшить производительность и снизить нагрузку на сервер
> Google Cloud Functions: первые 2 млн. вызовов бесплатно + 0,40$ за каждый доп. миллион запросов, допустим, 10 млн. запросов - 11,2$\
Google Cloud Firestore: взимается плата за каждую выполняемую вами запись и удаление документа свыше бесплатной квоты\
![image](https://github.com/guzel148/2024-cloud-platforms-as-the-basis-of-technology-entrepreneurship-u4125-gaptelganieva_g_r/assets/156536395/ef7add60-8942-4cee-9632-98a1b53c3da7)\
заложу 10$/месяц\
Google Cloud Storage: Standard Persistent Disk — 0,040$ за 1 GB/месяц, возьмем 70GB - 2,8$/месяц\
Google Cloud Monitoring и Google Cloud Logging: заложу 20$\
Google Cloud Profiler: не подразумевает взимание платы, но устанавливает индивидуальную квоту на пользование\
Google Kubernetes Engine (GKE): Стандартная версия - включает полностью автоматизированное управление жизненным циклом кластера, модульное управление и автоматическое масштабирование кластера, визуализацию затрат и автоматизированную оптимизацию затрат на инфраструктуру. По цене 0,10 доллара за кластер в час.\
Корпоративная версия - Включает функции стандартной версии и многопользовательские, мультикластерные операции самообслуживания, расширенную безопасность, сетку сервисов, конфигурацию, показатели наилучшей практики наблюдения и унифицированный интерфейс консоли. Цена составляет 0,00822 доллара за vCPU в час.\
По приведенной на сайте таблице цен, в среднем - 6$/vCPU (в месяц)\
Заложу 30$\
Cloud CDN: зависит от различных показателей (таких, как Передача данных из кэша, Заполнение кэша, Запросы на поиск в кэше), в примерном рассчете от Google: 44$/месяц\
Google Cloud Storage Nearline: от 0,001$ до 0,01$ за 1000 операций в зависимости от класса операции (хранение) + $0.01 за 1GB (поиск)\
Заложу 30$
#### Итого: 104$ - 120$ в месяц

### Обоснование выбора ресурсов:
- Использование Google Cloud Functions обосновано низкими затратами на начальном этапе и возможностью масштабирования по мере роста нагрузки.
- Google Cloud Firestore выбран как удобное и масштабируемое хранилище данных для приложения.
- Использование GKE обосновано возможностью автоматического масштабирования и управления контейнерами в продовом решении.

### Таким образом, оптимальным решением для данного приложения будет начать с использования серверных функций и NoSQL базы данных, а затем перейти к использованию контейнеров и CDN для обеспечения высокой производительности и экономии ресурсов.
